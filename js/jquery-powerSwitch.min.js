!function(t,i,e){var a="function"==typeof history.pushState;i.powerSwitch=function(t,e){i(t).powerSwitch(e)},i.extend(i.powerSwitch,{getRelative:function(t,e){if(t=i(t),0==t.length)return i();var a=[],n=!1;return t.each(function(){var t=i(this).attr(e.attribute)||(i(this).attr("href")||"").split("#")[1];if(t&&1!=a[t]){var s=i();/^\w+$/.test(t)?(s=i("#"+t),0===s.length&&(s=i("."+t)),0===s.length&&(s=i(t))):s=i(t),s.each(function(t,i){a.push(i)}),a[t]=!0}else 1==a[t]&&(n=!0)}),t.data("isMoreToOne",n),i(a)},transition:function(t,i,e){var n="transform "+i+"ms linear";0!=a&&(1==e?t.css("webkitTransition","none").css("transition","none").data("hasTransition",!1):t.data("hasTransition")||t.css({webkitTransition:"-webkit-"+n,webkitBackfaceVisibility:"hidden",transition:n,BackfaceVisibility:"hidden"}).data("hasTransition",!0))},translate:function(t,i,e){var n="translate"+i+"("+e+")";a?t.css("webkitTransform",n).css("transform",n):t.css("X"==i?{left:e}:{top:e})},animation:function(t,i,n){var s=null,o=this,l="none"==n.animation,r=function(t,i,e){parseInt(e)===e&&(e+="px"),a?(o.transition(t,n.duration,l),o.translate(t,i,e)):t[l?"css":"animate"]("X"==i?{left:e}:{top:e},n.duration)};if(n.duration&&"none"!=n.animation){n.isAnimating=!0;var c={slow:200,normal:400,fast:600},d=c[n.duration]||n.duration;"sync"==n.direction&&(d=t&&i?800:t||i?400:0),setTimeout(function(){n.isAnimating=!1},d)}if(i&&i.length||t&&t.length)switch(1==n.toggle&&"translate"==n.animation&&(n.animation="none"),n.animation){case"translate":var u=t.data("index"),h=i.data("index"),f={vertical:"Y",horizontal:"X"};if(u!=e&&h!=e){var p=100,v=!0;if(n.prevOrNext)switch(n.prevOrNext.attr("data-type")){case"prev":v=!1;break;case"next":v=!0;break;default:v=h>u}p=100*(2*v-1),o.transition(i.show(),n.duration,!0),o.translate(i,f[n.direction],p+"%"),setTimeout(function(){r(t,f[n.direction],-1*p+"%"),r(i,f[n.direction],"0%")},17),n.prevOrNext=null}else t.hide(),i.show();break;case"slide":"sync"!=n.duration?(t&&t.slideUp(n.duration),i&&i.slideDown(n.duration)):t?t.slideUp("normal",function(){i&&i.slideDown()}):i&&i.slideDown();break;case"fade":"sync"!=n.duration?(t&&t.fadeOut(n.duration),i&&i.fadeIn(n.duration)):t?t.fadeOut("normal",function(){i&&i.fadeIn()}):i&&i.fadeIn();break;case"visibility":t&&t.css("visibility","hidden"),i&&i.css("visibility","visible");break;default:t&&t.hide(),i&&i.show()}else if(n.container&&n.container.length){var m=n.container.data("position");s=n.container.get(0),"vertical"==n.direction?s.scrollHeight-s.clientHeight>=Math.max(m.top,1)?"auto"==n.animation?n.container.animate({scrollTop:m.top}):n.container.scrollTop(m.top):r(n.container,"Y",-1*m.top):s.scrollWidth-s.clientWidth>=Math.max(m.left,1)?"auto"==n.animation?n.container.animate({scrollLeft:m.left}):n.container.scrollLeft(m.left):r(n.container,"X",-1*m.left)}}}),i.fn.powerSwitch=function(t){var a={direction:"horizontal",eventType:"click",classAdd:"",classRemove:"",classPrefix:"",attribute:"data-rel",animation:"auto",duration:250,container:null,autoTime:0,number:"auto",hoverDelay:200,toggle:!1,onSwitch:i.noop},n=i.extend({},a,t||{});n.isAnimating=!1,i.each(["disabled","prev","play","pause","next"],function(t,a){a=i.trim(a);var s=a.slice(0,1).toUpperCase()+a.slice(1),o="class"+s,l=n.classPrefix.slice(-1);n[o]===e&&(n[o]=n.classPrefix?/\-/g.test(n.classPrefix)?"-"==l?n.classPrefix+a:[n.classPrefix,a].join("-"):/_/g.test(n.classPrefix)?"_"==l?n.classPrefix+a:[n.classPrefix,a].join("_"):n.classPrefix+s:a)});var s=n.indexSelected||-1,o=parseInt(n.number)||1,l=null,r=null,c=i(),d=0,u=i(this);if(0==u.length&&(null==n.container||0==n.autoTime))return u;if(c=i.powerSwitch.getRelative(u,n),0==(d=c.length))return u;-1==s&&0==n.toggle&&(n.classAdd?u.each(function(t,e){-1==s&&i(e).hasClass(n.classAdd)&&(s=t)}):c.each(function(t,e){-1==s&&("visibility"==n.animation?"hidden"!=i(e).css("visibility")&&(s=t):"none"!=i(e).css("display")&&(s=t))}));var h=!1,f=i(),p=i(),v=i(),m=function(t){0>=t?f.addClass(n.classDisabled).removeAttr("title").attr("disabled","disabled"):f.removeClass(n.classDisabled).attr("title",f.data("title")).removeAttr("disabled"),(d-t)/o>1?p.removeClass(n.classDisabled).attr("title",p.data("title")).removeAttr("disabled"):p.addClass(n.classDisabled).removeAttr("title").attr("disabled","disabled")};1==u.eq(0).data("isMoreToOne")&&(h=!0,n.classDisabled?(f=u.eq(0),p=u.eq(1),f.data("title",f.attr("title")),p.data("title",p.attr("title")),m(s),0>=s&&n.container&&i(n.container).scrollLeft(0).scrollTop(0)):n.container?(c.clone().insertAfter(c.eq(d-1)),c=i.powerSwitch.getRelative(u,n),v=u.eq(1)):(f=u.eq(0),p=u.eq(1),v=p));var b=!1;1==u.length&&d>1&&(b=!0);var w=function(t){if(t!=s){var e=c.slice(t,t+o),a=null,l=null,r=null;if(0==n.toggle){if(1==h){if(n.container){var d=e.position();n.container=i(n.container),n.container.data("position",d),i.powerSwitch.animation(null,null,n),n.classDisabled&&m(t)}else i.powerSwitch.animation(c.eq(s,s+o),e,n);n.onSwitch.call(this,e)}else 1==b?(i.powerSwitch.animation(null,e,n),n.onSwitch.call(this,e)):s!==t&&(l=u.eq(t),s>=0?(a=u.eq(s),r=c.eq(s,s+o)):(a=i(),r=i()),l.addClass(n.classAdd).removeClass(n.classRemove),a.addClass(n.classRemove).removeClass(n.classAdd),i.powerSwitch.animation(r,e,n),n.onSwitch.call(this,e,a,r));s=t}else"visibility"==n.animation&&"hidden"==e.css("visibility")||"visibility"!=n.animation&&"none"==e.css("display")?(i.powerSwitch.animation(null,e,n),display=!0):(i.powerSwitch.animation(e,null,n),display=!1),n.onSwitch.call(this,e,display)}},g=location.href.split("#")[1];u.each(function(t,e){i(e).data("index",t),1==h?i(e).bind("click",function(){var a,l;if(1==n.isAnimating)return!1;if(n.classDisabled){if(i(this).attr("disabled"))return!1;0==t?(a=s-o,a=Math.max(0,a)):1==t&&(a=s+o,a=Math.min(a,d-1)),w.call(this,a)}else n.container&&d>o?(0==t?(a=s-o,0>a&&(l=c.eq(s+d),i(n.container).data("position",l.position()),i.powerSwitch.animation(null,null,i.extend({},n,{animation:"none"})),a=s+d-o)):1==t&&(a=s+o,a>2*d-o&&(l=c.eq(s-d),i(n.container).data("position",l.position()),i.powerSwitch.animation(null,null,i.extend({},n,{animation:"none"})),a=s-d+o)),w.call(this,a),v=i(this)):(t?y(this):x(this),v=i(this));return e&&e.href?!1:void 0}):1==b?i(e).bind("click",function(){var t;return 1==n.isAnimating?!1:("auto"==n.number&&(o=d),i(this).attr("disabled")||(t=-1==s?0:s+o,w.call(this,t),t>=d-1&&i(this).addClass(n.classDisabled).attr("disabled","disabled").removeAttr("title")),e&&e.href?!1:void 0)}):"click"==n.eventType?(i(e).bind("click",function(){return 1==n.isAnimating?!1:(n.prevOrNext=i(this),w.call(this,t),this.id!==i(this).attr(n.attribute)&&e&&e.href?!1:void 0)}),g&&e.href&&g==e.href.split("#")[1]&&i(e).trigger("click")):/^hover|mouseover$/.test(n.eventType)&&i(e).hover(function(){return 1==n.isAnimating?!1:(n.prevOrNext=i(this),clearTimeout(l),void(l=setTimeout(function(){w.call(e,t)},parseInt(n.hoverDelay)||0)))},function(){clearTimeout(l)})}),c.each(function(t,e){i(e).data("index",t)});var y=function(t){var i=s+1;i>=d&&(i=0),w.call(t||u.get(i),i)},x=function(t){var i=s-1;0>i&&(i=d-1),w.call(t||u.get(i),i)},T=function(){v.trigger("click")},k=function(){clearTimeout(r),1==k.flagAutoPlay&&(r=setTimeout(function(){0==h?y():T(),k()},n.autoTime))};if(0==b&&0==n.toggle&&0==h||1==h&&!n.classDisabled){if(n.container&&0==h){var A="";u.length&&i.each(["Prev","Pause","Next"],function(t,i){(0!=n.autoTime||"Pause"!=i)&&(A=A+'<a href="javascript:" class="'+n["class"+i]+'" data-type="'+i.toLowerCase()+'"></a>')}),n.container.append(A).delegate("a","click",function(){if(1==n.isAnimating)return!1;var t=i(this).attr("data-type"),e=n["class"+t.slice(0,1).toUpperCase()+t.slice(1)];switch(t){case"prev":n.prevOrNext=i(this),x(),n.autoTime&&k();break;case"play":k.flagAutoPlay=!0,i(this).attr("data-type","pause").removeClass(e).addClass(n.classPause),k();break;case"pause":k.flagAutoPlay=!1,i(this).attr("data-type","play").removeClass(e).addClass(n.classPlay),k();break;case"next":n.prevOrNext=i(this),y(),n.autoTime&&k()}return!1})}if(n.autoTime){if(n.hoverStop!==!1){var S=[u,c,n.container];(1==h||document.body.contains&&n.container&&n.container.get(0).contains(c.get(0)))&&(S=[u,n.container]),i.each(S,function(t,i){i&&i.hover(function(t){(t.pageX!==e||"click"==n.eventType)&&clearTimeout(r)},function(t){(t.pageX!==e||"click"==n.eventType)&&k()})})}k.flagAutoPlay=!0,k()}}return u}}(window,jQuery);